
<div class="table-area">
  <div *ngFor="let obj of collection" class="table-area-object">   <!--строка-->
    <div class="table-area-property" > <!--столбец-->
      <div class="table-area-title">
        <span>{{ obj.title }}</span>
      </div>
      <div class="table-area-value">
        <ng-container *ngIf="data;else nothing">
          <span *ngIf="obj.property_lv2 && data[obj.property]">{{ data[obj.property][obj.property_lv2] || '--' }}</span>
          <span *ngIf="!obj.property_lv2 && !obj.property_array && !obj.property_array_prop">{{ data[obj.property] || '--' }}</span>
          <span *ngIf="obj.property_array && data[obj.property_array] && data[obj.property_array] && data[obj.property_array].length">{{ data[obj.property_array].length || '--' }}</span>

          <span *ngIf="data && obj.property_lv2 && !data[obj.property] || obj.property_array && !data[obj.property_array] || obj.property_array_prop && data[obj.property_array_prop] && !data[obj.property_array_prop].length || obj.property_array_prop && !data[obj.property_array_prop]">--</span>

          <span *ngIf="obj.property_array_prop && data[obj.property_array_prop] && data[obj.property_array_prop].length"> <!-- св-во length есть и у строки -->
            <span *ngFor="let o of data[obj.property_array_prop];let i = index">
              {{ o[obj.property_array_prop_lv2] || '--' }}
              <ng-container *ngIf="data[obj.property_array_prop].length > 1 && i != data[obj.property_array_prop].length - 1">,</ng-container>
            </span>
          </span>
        </ng-container>
        <ng-template  #nothing>--</ng-template>
      </div>
    </div> 
  </div>
</div>
