# Конфигурационные файлы приложения

!!! info ""
        На Linux все файлы создаются по пути /home/{текущий пользователь}/.config/VeilConnect. 
        На Windows все файлы создаются по пути C:\Users\{текущий пользователь}\AppData\Local\VeilConnect.

Создваемые файлы:

- veil_client_settings.ini. Файл настроек приложения в стандартном ini формате.
- x2go_data/x2go_sessions. Файл настроек x2go. Автоматически создается в момент подключения по протоколу 
x2go для использования x2go клииентом.
- rdp_data/rdp_file.rdp. Файл настроек RDP. Автоматически создается в момент подключения по протоколу 
Native RDP для использования нативным клииентом. (ОС Windows и MacOS).

##Описание veil_client_settings.ini
###Группа General

| Параметр        | Описание                                                                                                                                                                                  | Возможные значения |
|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|
|cur_remote_protocol_index|Протокол подключения, который будет использоваться при подключении к запомненному пулу                                                                                             | Число.  0 - SPICE, 1 - SPICE_DIRECT, 2 - RDP, 3 - RDP_NATIVE, 4 - X2GO.|
|log_output_to_file|Писать ли вывод процесса в лог файлы                                                                                                                                                      |1/0                  |                      


###Группа RemoteViewerConnect

| Параметр                         | Описание                                                                                                 | Возможные значения |
|----------------------------------|----------------------------------------------------------------------------------------------------------|--------------------|
| ip                               | Адрес подключения                                                                                        | строка             |
| username                         | Логин                                                                                                    | строка             |
| password                         | Пароль                                                                                                   | строка             |
| port                             | Порт                                                                                                     | Число 1-65535      |
| domain                           | Доменное имя. Может быть пустым                                                                          | строка             |
| is_ldap                          | Используется ли LDAP                                                                                     | 1/0                |
| connect_to_pool                  | Подключаться ли к выбранному пулу (pool_id) при старте приложения                                      | 1/0                |
|pool_id                           |id пула на VDI брокере, к которого будет производиться подключение, если connect_to_pool равен 1          | id пула типа 2affd5d-eaf2-4c7e-9b19-887cb9a0a862|
| to_save_pswd                     | Сохранять ли пароль в ini файл                                                                           | 1/0                |



###Группа SpiceSettings

| Параметр                         | Описание                               | Возможные значения |
|----------------------------------|----------------------------------------|--------------------|
| is_spice_client_cursor_visible   | Отображать ли клиентский курсор        | 1/0                |
|full_screen|Активен ли режим полного экрана. Требуется перезапуск приложения|1/0|
|monitor-mapping|Список пар отображений гостевых дисплеев на клиентские мониторы. Требуется перезапуск приложения|Список пар **id гостевого дисплея:id клиентского монитора**. Пример 0:1;1:2|


###Группа RDPSettings

| Параметр                | Описание                                                                       | Возможные значения                                        |
|-------------------------|--------------------------------------------------------------------------------|-----------------------------------------------------------|
| rdp_fps                 | Частота обновления картинки (Перерисовки экрана)                               | Число 1-60                                                |
| is_rdp_vid_comp_used    | Использовать ли сжатие видеопотока                                             | 1/0                                                       |
| rdp_vid_comp_codec      | Используемый кодек. Учитывается только если is_rdp_vid_comp_used равно 1       | AVC420/AVC444/RemoteFX                                    |
| rdp_shared_folders      | Перенаправляемые папки. Пути, перечисленные через точку с запятой без пробелов | строка                                                    |
| is_multimon             | Мультимониторность                                                             | 1/0                                                       |
|full_screen              | Активен ли режим полного экрана                                                | 1/0                                                       |
|selectedmonitors         | Указать, какие клиентские мониторы должны использоваться для отображения удаленного рабочего стола. Мониторы должны иметь обшие стороны.  |Параметр задается как список id мониторов через запятую. Пример 0,1|
| redirect_printers       | Перенаправлять ли принтеры                                                     | 1/0                                                       |
| is_remote_app           | Запускать ли приложение при подключении                                        | 1/0                                                       |
| remote_app_name         | Имя запускаемого приложения. Учитывается только если is_remote_app равно 1     | строка                                                    |
| remote_app_options      | Опции запускаемого приложения. Учитывается только если is_remote_app равно 1   | строка                                                    |
| is_rdp_network_assigned | Указывать ли тип сети                                                          | 1/0                                                       |
| rdp_network_type        | Тип сети. Учитывается только если is_rdp_network_assigned равно 1              | modem/broadband/broadband-low/broadband-high/wan/lan/auto |
| disable_rdp_decorations | Выключить ли оформления окон                                                   | 1/0                                                       |
| disable_rdp_fonts       | Выключить ли гладкие шрифты                                                    | 1/0                                                       |
| disable_rdp_themes      | Выключить ли Windows темы                                                      | 1/0                                                       |
| rdp_pixel_format        | Формат изображения                                                             | BGRA16/BGRA32                                             |
| rdp_args                | Список параметров freerdp                                                      | Список параметров freerdp через запятую                           |


###Группа X2GoSettings

| Параметр                         | Описание                                                     | Возможные значения                                            |
|----------------------------------|--------------------------------------------------------------|---------------------------------------------------------------|
| app_type                         | Используемое X2Go приложение                                 | 0/1  (0 - x2goclient, 1 - pyhoca-cli)                         |
| session_type                     | Тип сессии (десктоп)                                         | KDE/GNOME/LXDE/XFCE/MATE/UNITY/CINNAMON/TRINITY/OPENBOX/ICEWM |
| conn_type_assigned               | Указывать ли тип сети                                        | 1/0                                                           |
| conn_type                        | Тип сети. Учитывается только если conn_type_assigned равно 1 | modem/isdn/adsl/wan/lan                                       |
| full_screen                      | Открытие а полный экран                                      | 1/0                                                           |



### Пример
```
[General]
cur_remote_protocol_index=0
log_output_to_file=0

[RemoteViewerConnect]
ip=192.168.11.145
port=443
username=user2
password=Bazalt1!
is_ldap=0
domain=
to_save_pswd=1
connect_to_pool=1
pool_id=2affd5d-eaf2-4c7e-9b19-887cb9a0a862

[SpiceSettings]
is_spice_client_cursor_visible=0
full_screen=1
monitor-mapping=0:1;1:2

[RDPSettings]
rdp_pixel_format=BGRA16
rdp_fps=30
is_rdp_vid_comp_used=1
rdp_shared_folders=
is_multimon=0
full_screen=1
selectedmonitors=0
redirect_printers=1
is_remote_app=0
remote_app_program=
remote_app_options=
is_sec_protocol_assigned=0
sec_protocol_type=nla
is_rdp_network_assigned=0
rdp_network_type=auto
disable_rdp_decorations=0
disable_rdp_fonts=0
disable_rdp_themes=0
allow_desktop_composition=0
usb_devices=
use_rdp_file=0
rdp_settings_file=
rdp_args=+menu-anims,+home-drive

[X2GoSettings]
app_type=1
session_type=XFCE
conn_type_assigned=1
conn_type=modem
full_screen=1
```

- Чтобы не создавался файл с логами, а выход процесса шел в stdout/stderr, General/log_output_to_file 
должен иметь значение 0.

- Для автоподключения к определенному пулу при старте приложения RemoteViewerConnect/connect_to_pool должен быть равкн 1, 
в RemoteViewerConnect/pool_id должен быть указан id пула, в General/cur_remote_protocol_index должен 
быть указан протокол подключения.

- Конфигурация мониторов для Spice определяется параметром SpiceSettings/monitor-mapping. 
Это список пар отображений гостевых дисплеев на клиентские мониторы. Например,
чтобы отобразить гостевые дисплеи 0 и 1 на клиентские мониторы 1 и 2, используйте
0:1;1:2. Список должен содержать id всех дисплеев от 0 до последнего желаемого, т. е.
2:2 это невалидный параметр, так как отсутствуют отображения для дисплеев 0 и 1.
Данный параметр имет эффект только в режиме ПОЛНОГО ЭКРАНА.
Требуется ПЕРЕЗАПУСК приложения, чтобы применить изменения.

- Конфигурация мониторов для RDP определяется параметром RDPSettings/selectedmonitors. 
Указывает, какие клиентские мониторы должны использоваться для отображения удаленного рабочего стола.
Мониторы должны иметь обшие стороны. Параметр задается как список id мониторов через запятую.
Например: 0,1 - использовать мониторы с id 0 и 1.

- Для сквозной передачи параметров FreeRDP используется параметр RDPSettings/rdp_args.