# Документация по тонким клиентам

#### Установка ТК на ОС Astra Linux в режиме киоска

1. Установка **Astra Linux Common Edition**.
1. Создание пользователя (Например: kiosk).
1. Установка ТК **VeiL connect**, используя [установщики](https://veil-update.mashtab.org/veil-connect/).
1. Перевод рабочего стола в режим **киоска**.
1. Запуск приложения ТК **VeiL Connect** в режиме **киоск**.

#### Установка ОС Astra Linux CE на ТК Dell Wyse, используя [образ](https://mirrors.edge.kernel.org/astra/stable/orel/iso/orel-current.iso)

- Действия, которые необходимо выполнить для установки ОС:

1. Загрузить программу установки ОС с носителя.
1. Выбрать настройки программы установки и оборудования.
1. Активировать (если есть) подключение к сети Ethernet.
1. Создать учетную запись и пароль администратора.
1. Настроить время.
1. Создать и смонтировать дисковые разделы, на которые будет установлена ОС 
   (Метод разметки выбираем **авто - использовать весь диск**).
1. Выбрать и установить необходимое программное обеспечение (ПО) (Выбираем: Базовые средства, Рабочий стол Fly).
1. Выбрать и установить дополнительные настройки ОС.
1. Установить и настроить системный загрузчик GRUB.
1. Загрузить установленную ОС в первый раз.

#### Создание пользователя kiosk

1. Пуск→ Системные→ Терминал Fly.
1. Переходим к привилегированному режиму командой `sudo su`. 
1. Запускаем **Управление политикой безопасности - локальная политика** командой `fly-admin-smc`. 
1. В запущенном окне переходим к разделу **Пользователи**.
1. В верхней части окна нажимаем на **+**, будет запущен мастер создания пользователя, 
в котором указываем **Имя** (Например:kiosk). 
1. В верхней части окна нажимаем на кнопку **Применить изменения**. 
1. В разделе **Пользователи** будет создана учётная запись **kiosk**.

#### Настройка графического входа для пользователя **киоск**

1. Для **настройки графического входа** в терминале, от  суперпользователя, вводим команду `fly-admin-dm`. 
1. В запущенном окне переходим к вкладке **Дополнительно**. 
1. Во вкладке **Дополнительно** нажимаем на **Разрешить автоматический вход в систему**,
в раскрывающемся списке **Пользователи** выбираем пользователя **kiosk**.
1. В поле **Автоматически выбирать пользователя** выбираем раскрывающийся список **Указанный** и выбираем пользователя **kiosk**.
1. В поле **Разрешить вход без пароля** нажимаем на одноимённую кнопку и выбираем пользователя **kiosk**.
1. Нажимаем **Применить**.
1. Появится предупреждающее окно **Требуется перезагрузка**, нажимаем закрыть. 
1. Окно **Настройка графического входа** закрываем.

#### Перевод пользователя в **Режим графического киоска**

1. В терминале от суперпользователя вводим команду `fly-admin-smc`.
1. Во вкладке **Пользователи** выбираем пользователя **kiosk**.
1. В окне текущего пользователя переходим во вкладку **Графический киоск fly**, 
где нажимаем на **Режим графического киоска (ограниченный набор приложений)**. 
1. Нажимаем на раскрывающийся список **Приложение на рабочем столе** и выбираем **Режим одного приложения**.
1. В текущем окне нажимаем на **+**, будет запущен мастер **Добавить приложение**, 
в котором необходимо указать путь к программе **/opt/veil-connect/start_vdi_client.sh**. 
1. Нажимаем на кнопку **Да**.
1. Мастер **Добавить приложение** будет закрыт и в окне **Управление политикой безопасности — 
Настройки киоска пользователя:kiosk** необходимо применить изменения, нажав на кнопку ![image](../../_assets/common/yes.svg).

#### Запуск ТК VeiL Сonnect в режиме киоска

После выполненных действий ОС **Astra Linux CE** будет загружаться в режиме **Одного приложения**,
от пользователя **kiosk**, без пароля.