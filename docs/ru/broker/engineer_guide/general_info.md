# Общие сведения о программе

1. VeiL  Broker предназначен для создания и администрирования инфраструктуры виртуальных рабочих столов (ВРС) на базе виртуальной инфраструктуры облачной платформы корпоративного уровня VeiL (ECP VeiL).
1. В VeiL  Broker реализован графический Web-интерфейс управления.
1. VeiL  Broker взаимодействует с виртуальной инфраструктурой ECP VeiL через внешний API.
1. VeiL  Broker имеет возможность установки на виртуальную машину (ВМ).
1. VeiL  Broker обеспечивает добавление (удаление) одного или нескольких контроллеров ECP VeiL.
1. VeiL  Broker обеспечивает отображение следующих ресурсов ECP VeiL для создания ВРС:
    - кластеры;
    - серверы;
    - пулы данных;
    - ВМ для создания статических пулов;
    - шаблоны (*золотые образы*).
  
1. VeiL  Broker поддерживает пулы ВРС (группы ВРС, имеющие общие настройки и политики безопасности).
1. VeiL  Broker обеспечивает следующие типы пулов ВРС: 
    - автоматические;
    - статические.

    !!! note "Примечания"
        1.	В автоматическом пуле экземпляры ВРС создаются автоматически на основе подготовленного шаблона ВМ средствами ECP VeiL.
        2.	В статическом пуле экземпляры ВРС являются заранее подготовленными ВМ в среде ECP VeiL.

1. VeiL  Broker обеспечивает следующие функции для работы с пулами ВРС:
    - отображение списка пулов;
    - создание автоматического и статического пула ВРС;
    - отображение информации о каждом пуле;
    - отображение списка ВМ для каждого пула;
    - отображение списка пользователей каждого пула;
    - добавление пользователя к пулу;
    - исключение пользователя из пула;
    - добавление группы к пулу;
    - удаление группы от пула;
    - удаление статического пула (не удаляет ВМ на ECP VeiL);
    - удаление автоматического пула (удаляет ВМ на ECP VeiL).
1. VeiL  Broker обеспечивает при создании автоматического пула ВРС задание следующих параметров:
    - имя пула;
    - контроллер ECP VeiL;
    - кластер;
    - сервер;
    - шаблон ВМ (*золотой образ*);
    - пул данных;
    - шаблон имени ВМ;
    - начальное количество ВМ;
    - максимальное количество создаваемых ВМ;
    - пороговое количество свободных ВМ;
    - количество создаваемых ВМ;
    - включение режима *тонких клонов*.
1. VeiL  Broker обеспечивает создание новых экземпляров ВРС в автоматическом пуле при возникновении следующих событий:
    - создание нового автоматического пула (количество создаваемых ВРС соответствует параметру *Начальное количество ВМ*);
    - при подключении нового пользователя пула к свободному ВРС с использованием клиентского программного обеспечения (ПО) VeiL  Connect, если в этот момент количество свободных экземпляров ВРС стало меньше или равно параметру *Пороговое количество свободных ВМ* (количество создаваемых ВРС соответствует параметру *Шаг расширения пула*).

    !!! note "Примечания" 
        1. В VeiL  Broker в автоматическом пуле не может быть создано новых ВРС больше, чем указано в параметре *Максимальное количество создаваемых ВМ*.
        2. При достижении *Порогового количества свободных ВМ* одновременно создается то количество новых ВМ, которое указано в настройках пула в параметре *Шаг расширения пула*, но не более значения, заданного в параметре *Максимальное количество создаваемых ВМ*.

1. VeiL  Broker обеспечивает в автоматическом пуле ВРС создание имен ВМ в соответствии с заданным шаблоном имени (например, VDI-A-01, VDI-A-02).
1. VeiL  Broker обеспечивает возможность автоматического создания ВРС в автоматическом пуле на базе подготовленного шаблона ВМ ECP VeiL, в режиме тонких клонов (linked clones). В этом случае во время работы ВМ сохраняются только динамические данные запущенной ВМ, а при её выключении – все данные ВМ удаляются. Каждая новая запущенная ВМ является копией подготовленного шаблона с тем набором данных, который в нем хранится.
1. VeiL  Broker обеспечивает при создании статического пула ВРС задание следующих параметров:
    - имя пула;
    - контроллер ECP VeiL;
    - кластер;
    - сервер;
    - пул данных.
1. VeiL  Broker обеспечивает при создании статического пула выбор свободных ВМ на базе ECP VeiL, которые будут использоваться в качестве ВРС.
1. VeiL  Broker обеспечивает автоматическое назначение соответствия свободного экземпляра ВРС и нового пользователя автоматического пула к ВРС при подключении с использованием клиентского ПО VeiL  Connect.
1. VeiL  Broker обеспечивает возможность назначения администратором соответствия свободного экземпляра ВРС и нового пользователя автоматического или статического пулов к ВРС через графический интерфейс.
1. VeiL  Broker обеспечивает возможность снятия администратором соответствия пользователя автоматического или статического пулов и экземпляра ВРС через графический интерфейс.
1. VeiL  Broker обеспечивает автоматическое подключение пользователя к назначенному экземпляру ВРС при повторных подключениях к автоматическому или статическому пулам с использованием клиентского ПО VeiL  Connect.
1. VeiL  Broker обеспечивает интеграцию со службой каталогов для хранения учетных записей и данных пользователей LDAP (AD).
1. VeiL  Broker обеспечивает следующие функции по работе с локальными пользователями:
    - отображение списка пользователей; 
    - добавление пользователя;
    - редактирование пользователя;
    - деактивация (блокировка) пользователя;
    - активация (разблокировка) пользователя;
    - изменение ролей пользователя.
1. VeiL  Broker обеспечивает следующие функции по работе с пользователями LDAP (AD):
    - отображение списка пользователей;
    - автоматическое добавление пользователя при его первой удачной авторизации;
    - добавление пользователя;
    - редактирование пользователя;
    - деактивация (блокировка) пользователя;
    - активация (разблокировка) пользователя;
    - изменение ролей пользователя.

    !!! note "Примечание" 
        Настройки (параметры) пользователя в AD не изменяются.

1. VeiL  Broker обеспечивает разграничение доступа подключения к пулам ВРС для отдельных пользователей или для групп пользователей.
1. VeiL  Broker обеспечивает возможность прохождения процедур авторизации и аутентификации с использованием локальных учетных данных пользователей.
1. VeiL  Broker обеспечивает возможность прохождения процедуры авторизации и аутентификации с использованием учетных данных из внешней базы LDAP (AD).
1. VeiL  Broker обеспечивает доступ к интерфейсу управления по протоколам HTTP и HTTPS.
1. VeiL  Broker для организации ВРС поддерживает ВМ и их шаблоны с ОС следующих семейств:
    - Windows 7;
    - Windows 8.1;
    - Windows 10;
    - Windows Server 2008;
    - Windows Server 2008 R2;
    - Windows Server 2012;
    - Windows Server 2012 R2; 
    - Windows Server 2016;
    - Windows Server 2019;
    - Astra Linux Special Edition «Смоленск» 1.6 и выше;
    - Astra Linux Common Edition «Орел» 1.6 и выше; 
    - Debian 9 и выше;
    - Ubuntu 16.04 LTS и выше;
    - Centos 7 и выше;
    - ALT Linux 9 и выше;
    - РЕД ОС 7.2 и выше;
    - AlterOS 7 и выше.
1. VeiL  Broker обеспечивает журналирование событий.
1. VeiL  Broker обеспечивает ограничение по количеству одновременных подключений к ВРС с использованием клиентского ПО VeiL  Connect в зависимости от информации, загруженной с файлом лицензии.
1. VeiL  Broker обеспечивает ограничение по времени использования одновременных подключений к ВРС с использованием клиентского ПО VeiL  Connect в зависимости от информации, загруженной с файлом лицензии.
1. VeiL  Broker обеспечивает загрузку и удаление файла лицензии через графический интерфейс.
